{"version":3,"file":"pages/articles/_slug.js","sources":["webpack:///./pages/articles/_slug.vue?8d0b","webpack:///./pages/articles/_slug.vue","webpack:///./pages/articles/_slug.vue?dddc","webpack:///./pages/articles/_slug.vue?a36c","webpack:///./utils/medias.js","webpack:///./utils/seo.js"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._ssrNode(((_vm.article.image)?(\"<div id=\\\"banner\\\"\"+(_vm._ssrAttr(\"data-src\",_vm.getStrapiMedia(_vm.article.image.url)))+\" uk-img class=\\\"uk-height-small uk-flex uk-flex-center uk-flex-middle uk-background-cover uk-light uk-padding\\\"><h1>\"+_vm._ssrEscape(_vm._s(_vm.article.title))+\"</h1></div>\"):\"<!---->\")+\" <div class=\\\"uk-section\\\"><div class=\\\"uk-container uk-container-small\\\">\"+((_vm.article.content)?(\"<div id=\\\"editor\\\">\"+(_vm._s(_vm.$md.render(_vm.article.content)))+\"</div>\"):\"<!---->\")+\" \"+((_vm.article.published_at)?(\"<p>\"+_vm._ssrEscape(\"\\n        \"+_vm._s(_vm.moment(_vm.article.published_at).format(\"Do MMM\"))+\"\\n      \")+\"</p>\"):\"<!---->\")+\"</div></div>\")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport moment from \"moment\";\r\nimport { getStrapiMedia } from \"../../utils/medias\";\r\nimport { getMetaTags } from \"../../utils/seo\";\r\n\r\nexport default {\r\n  async asyncData({ $strapi, params }) {\r\n    const matchingArticles = await $strapi.find(\"articles\", {\r\n      slug: params.slug,\r\n    });\r\n    return {\r\n      article: matchingArticles[0],\r\n      global: await $strapi.find(\"global\"),\r\n    };\r\n  },\r\n  data() {\r\n    return {\r\n      apiUrl: process.env.strapiBaseUri,\r\n    };\r\n  },\r\n  methods: {\r\n    moment,\r\n    getStrapiMedia,\r\n  },\r\n  head() {\r\n    const { defaultSeo, favicon, siteName } = this.global;\r\n\r\n    // Merge default and article-specific SEO data\r\n    const fullSeo = {\r\n      ...defaultSeo,\r\n      metaTitle: this.article.title,\r\n      metaDescription: this.article.description,\r\n      shareImage: this.article.image,\r\n    };\r\n\r\n    return {\r\n      titleTemplate: `%s | ${siteName}`,\r\n      title: fullSeo.metaTitle,\r\n      meta: getMetaTags(fullSeo),\r\n      link: [\r\n        {\r\n          rel: \"favicon\",\r\n          href: getStrapiMedia(favicon.url),\r\n        },\r\n      ],\r\n    };\r\n  },\r\n};\r\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./_slug.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./_slug.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./_slug.vue?vue&type=template&id=7973006e&\"\nimport script from \"./_slug.vue?vue&type=script&lang=js&\"\nexport * from \"./_slug.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  \"19443b7b\"\n  \n)\n\nexport default component.exports","export function getStrapiMedia(url) {\r\n  // Check if URL is a local path\r\n  if (url.startsWith(\"/\")) {\r\n    // Prepend Strapi address\r\n    return `${process.env.strapiBaseUri}${url}`;\r\n  }\r\n  // Otherwise return full URL\r\n  return url;\r\n}\r\n","import { getStrapiMedia } from \"./medias\";\r\n\r\nexport function getMetaTags(seo) {\r\n  const tags = [];\r\n\r\n  if (seo.metaTitle) {\r\n    tags.push(\r\n      {\r\n        property: \"og:title\",\r\n        content: seo.metaTitle,\r\n      },\r\n      {\r\n        name: \"twitter:title\",\r\n        content: seo.metaTitle,\r\n      }\r\n    );\r\n  }\r\n  if (seo.metaDescription) {\r\n    tags.push(\r\n      {\r\n        name: \"description\",\r\n        content: seo.metaDescription,\r\n      },\r\n      {\r\n        property: \"og:description\",\r\n        content: seo.metaDescription,\r\n      },\r\n      {\r\n        name: \"twitter:description\",\r\n        content: seo.metaDescription,\r\n      }\r\n    );\r\n  }\r\n  if (seo.shareImage) {\r\n    const imageUrl = getStrapiMedia(seo.shareImage.url);\r\n    tags.push(\r\n      {\r\n        name: \"image\",\r\n        content: imageUrl,\r\n      },\r\n      {\r\n        property: \"og:image\",\r\n        content: imageUrl,\r\n      },\r\n      {\r\n        name: \"twitter:image\",\r\n        content: imageUrl,\r\n      }\r\n    );\r\n  }\r\n  if (seo.article) {\r\n    tags.push({\r\n      property: \"og:type\",\r\n      content: \"article\",\r\n    });\r\n  }\r\n  tags.push({ name: \"twitter:card\", content: \"summary_large_image\" });\r\n\r\n  return tags;\r\n}\r\n"],"mappings":";;;;;;;;;;;AAAA;AACA;AACA;;;;;;;;;;;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AADA;AAGA;AACA;AACA;AAFA;AAIA;AACA;AAAA;AACA;AACA;AADA;AAGA;AACA;AAAA;AACA;AACA;AAFA;AACA;AAGA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AAEA;AACA;AACA;AAJA;AAOA;AACA;AACA;AACA;AACA;AAEA;AACA;AAFA;AALA;AAWA;AACA;AA1CA;;AClCA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AClBA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;;;;;;;;ACRA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAFA;AAKA;AACA;AAFA;AAKA;AACA;AAAA;AACA;AAEA;AACA;AAFA;AAKA;AACA;AAFA;AAKA;AACA;AAFA;AAKA;AACA;AAAA;AACA;AACA;AAEA;AACA;AAFA;AAKA;AACA;AAFA;AAKA;AACA;AAFA;AAKA;AACA;AAAA;AACA;AACA;AACA;AAFA;AAIA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;;;;A","sourceRoot":""}